# Redis常见问题

# 什么是缓存穿透？怎么解决？
1.去缓存查询一个没有的key值，因为缓存里面没有，所以会再去DB去查询，如果黑客大量使用这样的查询，就有可能导致DB宕机，使整个系统不可用。

**解决方案**
> 当缓存中这个key不存在，且数据库中也不存在，那么就在缓存里面放一个占位符，下次同样的请求再来时，直接返回这个设置的占位符，就不用去数据库查询了，防止DB宕机。

2.当大量请求去查询一个刚刚失效的key时，也会导致DB的压力增加，导致系统故障。
**解决方案**
> 可以在这些请求代码上加双重检查锁。牺牲系统的响应时间，来保证系统的稳定性。

# 什么是缓存雪崩？怎么解决？
通常，我们使用redis时，多数是当做缓存使用，用于缓冲对DB的冲击，提高访问速度。所以，一般如果缓存宕机时，所有的请求都会直接打在DB上，因为访问量过高，导致DB宕机，从而导致这个系统宕机。这既是所谓的缓存雪崩。
缓存雪崩，可以这样理解，因为其他原因导致缓存区的数据不可用（包括过期），导致系统的请求，都直接打在了DB上，导致系统异常。

**应对策略**
> - 对缓存区做高可用，防止缓存宕机。
> - 使用断路器，如果缓存宕机，为了防止系统全部宕机，限制部分流量进入DB，保证部分可用，其余的请求返回断路器的默认设置。






**参考文献**
[Redis面试常见问题](https://mp.weixin.qq.com/s/2XlK0H6R8smBkV6Rw2ZtAA)